{"version":3,"file":"app.3bc95a2181b400b54340.hot-update.js","sources":["webpack:///C:/Users/kha03/Desktop/forMarketing-master/src/MainScreen.js"],"sourcesContent":["import React, { Component } from 'react';\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity\n} from 'react-native';\nimport styles from './Style';\nimport Button from './FooterButton';\nimport AntDesign from 'react-native-vector-icons/AntDesign';\nimport Ionicons from 'react-native-vector-icons/Ionicons';\nimport * as firebase from 'firebase';\n\nexport default class MainScreen extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.firstMakeTimetable = this.firstMakeTimetable.bind(this);\n    }\n\n    componentDidMount() {\n        firebase.database().ref().child(\"users\").once(\"value\")\n            .then((result) => {\n                var flagA = 0\n                result.forEach((resultChild) => {\n                    var key = resultChild.key\n                    var position = resultChild.child('position').val()\n                    var team = resultChild.child('team').val()\n                    var attend = firebase.database().ref(\"users/\" + key)\n                    if (position === \"팀장\" || position === \"부팀장\" || team === \"마케팅\") {\n                        attend.update({\n                            attend : 4\n                        })\n                    } else {\n                        attend.update({\n                            attend : 3\n                        })\n                    }\n\n                })\n\n            })\n        }\n\n        firstMakeTimetable = () => {\n            var user = firebase.auth().currentUser;\n            var isExist = firebase.database().ref('users/' + user.uid + '/name');\n            isExist.on(\"value\", function (result) {\n                if (!result.val()) {\n                    var info = user.photoURL.split('/');\n                    firebase.database().ref('users/' + user.uid).set({\n                        name: user.displayName,\n                        team: info[0],\n                        position: info[1],\n                        number: info[2],\n                        timetable: {\n                            Mon: {\n                                1: false,\n                                2: false,\n                                3: false,\n                                4: false,\n                                5: false,\n                                6: false,\n                                7: false,\n                                8: false,\n                                9: false\n                            },\n                            Tue: {\n                                1: false,\n                                2: false,\n                                3: false,\n                                4: false,\n                                5: false,\n                                6: false,\n                                7: false,\n                                8: false,\n                                9: false\n                            },\n                            Wed: {\n                                1: false,\n                                2: false,\n                                3: false,\n                                4: false,\n                                5: false,\n                                6: false,\n                                7: false,\n                                8: false,\n                                9: false\n                            },\n                            Thu: {\n                                1: false,\n                                2: false,\n                                3: false,\n                                4: false,\n                                5: false,\n                                6: false,\n                                7: false,\n                                8: false,\n                                9: false\n                            },\n                            Fri: {\n                                1: false,\n                                2: false,\n                                3: false,\n                                4: false,\n                                5: false,\n                                6: false,\n                                7: false,\n                                8: false,\n                                9: false\n                            }\n                        }\n                    })\n                }\n            })\n            this.props.navigation.push('Timetable');\n        }\n\n        makeLabor = () => {\n            var isExist = firebase.database().ref('labor/');\n            isExist.on(\"value\", function (result) {\n                if (!result.val()) {\n                    firebase.database().ref().put({\n                        labor: {\n                            Mon: {\n                                1: '',\n                                2: '',\n                                3: '',\n                                4: '',\n                                5: '',\n                                6: '',\n                                7: '',\n                                8: '',\n                                9: ''\n                            },\n                            Tue: {\n                                1: '',\n                                2: '',\n                                3: '',\n                                4: '',\n                                5: '',\n                                6: '',\n                                7: '',\n                                8: '',\n                                9: ''\n                            },\n                            Wed: {\n                                1: '',\n                                2: '',\n                                3: '',\n                                4: '',\n                                5: '',\n                                6: '',\n                                7: '',\n                                8: '',\n                                9: ''\n                            },\n                            Thu: {\n                                1: '',\n                                2: '',\n                                3: '',\n                                4: '',\n                                5: '',\n                                6: '',\n                                7: '',\n                                8: '',\n                                9: ''\n                            },\n                            Fri: {\n                                1: '',\n                                2: '',\n                                3: '',\n                                4: '',\n                                5: '',\n                                6: '',\n                                7: '',\n                                8: '',\n                                9: ''\n                            }\n                        }\n                    })\n                }\n            })\n            this.props.navigation.push('BoothSetting');\n        }\n\n        render() {\n            return (\n                <View style={styles.container}>\n                    <TouchableOpacity\n                        style={[styles.arrow, this.props.style]}\n                        onPress={() => this.props.navigation.navigate('Login')}\n                    >\n                        <Ionicons name='ios-arrow-back' size={30} color='#ec1468' />\n                    </TouchableOpacity>\n                    <Image\n                        source={require('./icon.png')}\n                        style={styles.icon}\n                    />\n                    <Button\n                        buttonText=\"시간표 만들기\"\n                        style={styles.mainButton}\n                        onPress={this.firstMakeTimetable}\n                    />\n                    <Button\n                        buttonText=\"오프라인 부스 인력표\"\n                        style={styles.mainButton}\n                        onPress={this.makeLabor}\n                    />\n                    <Button\n                        buttonText=\"행사 인력표\"\n                        style={styles.mainButton}\n                        onPress={() => this.props.navigation.navigate('Event')}\n                    />\n                    <TouchableOpacity\n                        style={{ marginTop: 35 }}\n                        onPress={() => this.props.navigation.navigate('Setting')}\n                    >\n                        <AntDesign name=\"setting\" color=\"#ec1468\" size={30} />\n                    </TouchableOpacity>\n                </View>\n            )\n        }\n    }"],"mappings":";;;;;;;;;AAAA;;;;A","sourceRoot":""}